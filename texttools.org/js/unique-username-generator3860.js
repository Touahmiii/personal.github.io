/*
 * Copyright (C) 2022 Text Tools. All Rights Reserved.
 * This file is part of texttools.org
 * Proprietary Software License
*/
var area=$("#input_output"),examples=JSON.parse(localStorage.getItem("ta_examples"));function generateUsernames(){var n=[],t=$("input[name='radioType']:checked").val(),a=$("#usernamePrefix").val().toLowerCase()||"",o=parseInt($("#usernameLength").val(),10),r=$("#dictionaryType").val(),i=$("#usernameWord").val().toLowerCase()||"";for(let e=0;e<323;e++)"uniqueUsername"==t?n.push(getUniqueUsername(a,o)):"compoundUsername"==t&&n.push(getCompoundUsername(i,r));return n=n.filter((e,n,t)=>n===t.indexOf(e)),"uniqueUsername"==t?n=n.join("\t"):"compoundUsername"==t&&(n=n.join("\n")),n}function getUniqueUsername(e,n){for(var t=["b","c","d","f","g","h","j","k","l","m","n","p","r","s","t","v","w","x","y","z","sh","sn","tr","th","ch"],a=["a","e","i","o","u","ee","oo","ie","au","ae"],o="",r=n/2,i=Math.random()<.5,l=e.slice(-1),d=a.includes(l),c=0;c<r;c++)o=d||""==e&&i?(o+=t[Math.floor(Math.random()*t.length)])+a[Math.floor(Math.random()*a.length)]:(o+=a[Math.floor(Math.random()*a.length)])+t[Math.floor(Math.random()*t.length)];return o=(o=""==!e?e+o.slice(0,-e.length):o).slice(0,n)}function getCompoundUsername(e,n){var t,a=Math.random()<.5;return console.log(n),"noun"==n?t=getRandomNoun():"verb"==n?t=getRandomVerb():"adjective"==n&&(t=getRandomAdjective()),a?e+t:t+e}function getRandomNoun(){return nounList[Math.floor(Math.random()*nounList.length)]}function getRandomVerb(){return verbList[Math.floor(Math.random()*verbList.length)]}function getRandomAdjective(){return adjectiveList[Math.floor(Math.random()*adjectiveList.length)]}function saveText(e,n){var t=navigator.userAgent.match(/MSIE\s([\d.]+)/),a=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),o=navigator.userAgent.match(/Edge/g),a=t?t[1]:a?11:o?12:-1;t&&a<10?console.log("No blobs on IE ver<10"):(n=(n=document.getElementById("input_output").value).replace(/\r?\n/g,"\r\n"),o=new Blob([n],{type:"text/plain"}),"null.txt"!=(e=prompt("File name:","New Document")+".txt")&&(-1<a?window.navigator.msSaveBlob(o,e):((t=document.createElement("a")).download=e,t.href=window.URL.createObjectURL(o),t.onclick=function(e){document.body.removeChild(e.target)},t.style.display="none",document.body.appendChild(t),t.click())))}function printTextArea(){(childWindow=window.open("","childWindow","location=yes, menubar=yes, toolbar=yes")).document.open(),childWindow.document.write('<html><head></head><body style="word-wrap: break-word;">'),childWindow.document.write(document.getElementById("input_output").value.replace(/\n/gi,"<br>")),childWindow.document.write("</body></html>"),childWindow.print(),childWindow.document.close(),childWindow.close()}1==examples&&area.val(generateUsernames()),$("#generateUsernames").click(function(){Remember();var e=generateUsernames();area.val(e),Remember()}),$("input[name='radioType']").on("change",function(){"uniqueUsername"==$(this).val()?($("#usernamePrefix").parent().removeClass("none"),$("#usernameWord").parent().addClass("none"),$("#usernameLength").parent().removeClass("none"),$("#dictionaryType").parent().addClass("none")):($("#usernamePrefix").parent().addClass("none"),$("#usernameWord").parent().removeClass("none"),$("#usernameLength").parent().addClass("none"),$("#dictionaryType").parent().removeClass("none"))}),$(".clipboard").click(function(){Clipboard(area)}),$("#clearAll, #edit_delete, #file_new").click(function(){$(".alert").hide(),area.val(""),Remember()}),$("#file_download").click(function(){saveText()}),$("#file_print").click(function(){printTextArea()}),$("#edit_undo").click(function(){var e=History.undo();void 0!==e&&area.val(e)}),$("#edit_redo").click(function(){var e=History.redo();void 0!==e&&area.val(e)}),$("#edit_copy").click(function(){Clipboard(area)}),$("#edit_select").click(function(){area.select().focus()});var History=function(){var n=[],t=0;return{remember:function(e){n[t-1]!==e&&(n.splice(t,10),n.push(e),n.splice(0,n.length-10),t=n.length)},undo:function(){if(1<t)return n[--t-1]},redo:function(){if(t<n.length)return n[t++]}}}();function Remember(){var e=area.val();History.remember(e)}Remember();