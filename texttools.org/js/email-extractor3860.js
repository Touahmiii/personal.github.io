/*
 * Copyright (C) 2022 Text Tools. All Rights Reserved.
 * This file is part of texttools.org
 * Proprietary Software License
*/
var area=$("#input_output"),examples=JSON.parse(localStorage.getItem("ta_examples"));function extractEmails(e){return e.match(/(?:[a-z0-9+!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/gi)}function loadText(){var e=$("#file_upload").get(0).files[0],a=new FileReader;a.onload=function(e){e=e.target.result;area.val(e)},a.readAsText(e,"UTF-8")}function saveText(e,a){var o=navigator.userAgent.match(/MSIE\s([\d.]+)/),t=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),n=navigator.userAgent.match(/Edge/g),t=o?o[1]:t?11:n?12:-1;o&&t<10?console.log("No blobs on IE ver<10"):(a=(a=document.getElementById("input_output").value).replace(/\r?\n/g,"\r\n"),n=new Blob([a],{type:"text/plain"}),"null.txt"!=(e=prompt("File name:","New Document")+".txt")&&(-1<t?window.navigator.msSaveBlob(n,e):((o=document.createElement("a")).download=e,o.href=window.URL.createObjectURL(n),o.onclick=function(e){document.body.removeChild(e.target)},o.style.display="none",document.body.appendChild(o),o.click())))}function printTextArea(){(childWindow=window.open("","childWindow","location=yes, menubar=yes, toolbar=yes")).document.open(),childWindow.document.write('<html><head></head><body style="word-wrap:break-word;"><style>.ap_container,.google-auto-placed,.adsbygoogle{display:none}</style>'),childWindow.document.write(document.getElementById("input_output").value.replace(/\n/gi,"<br>")),childWindow.document.write("</body></html>"),childWindow.print(),childWindow.document.close(),childWindow.close()}1==examples&&area.val(`This is an example of a typical email address format john_doe18@yahoo.com.

Next example is an email address with plus sign mary.smith+socials@gmail.com.

Now let's test two emails with a country code top-level domain like george-wilson82@mail.co.uk and ram.patel94@yahoo.co.id.

How about an obfuscated id like z3daxdlnbp1hyqk26mjjffu@protonmail.com.`),$("#extractEmails").click(function(){Remember();var e=area.val().toLowerCase(),a=$("#numSeparator").val();if(null===(e=extractEmails(e)))return area.val(""),void Remember();1==$("#isSort").prop("checked")&&(e=e.sort()),e="comma"==a?e.join(","):"space"==a?e.join(" "):"comma+space"==a?e.join(", "):e.join("\n"),area.val(e),Remember()}),$(".clipboard").click(function(){Clipboard(area)}),$("#clearAll, #edit_delete, #file_new").click(function(){area.val(""),Remember()}),$("#file_upload").on("change",function(){loadText()}),$("#file_download").click(function(){saveText()}),$("#file_print").click(function(){printTextArea()}),$("#edit_undo").click(function(){var e=History.undo();void 0!==e&&area.val(e)}),$("#edit_redo").click(function(){var e=History.redo();void 0!==e&&area.val(e)}),$("#edit_copy").click(function(){Clipboard(area)}),$("#edit_select").click(function(){area.select().focus()});var History=function(){var a=[],o=0;return{remember:function(e){a[o-1]!==e&&(a.splice(o,10),a.push(e),a.splice(0,a.length-10),o=a.length)},undo:function(){if(1<o)return a[--o-1]},redo:function(){if(o<a.length)return a[o++]}}}();function Remember(){var e=area.val();History.remember(e)}Remember();