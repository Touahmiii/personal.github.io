/*
 * Copyright (C) 2022 Text Tools. All Rights Reserved.
 * This file is part of texttools.org
 * Proprietary Software License
*/
var area=$("#input_output"),examples=JSON.parse(localStorage.getItem("ta_examples"));function convertToCursive(e){for(var t={0:"ğŸ¢",1:"ğŸ£",2:"ğŸ¤",3:"ğŸ¥",4:"ğŸ¦",5:"ğŸ§",6:"ğŸ¨",7:"ğŸ©",8:"ğŸª",9:"ğŸ«",a:"ğ’¶",b:"ğ’·",c:"ğ’¸",d:"ğ’¹",e:"ğ‘’",f:"ğ’»",g:"ğ‘”",h:"ğ’½",i:"ğ’¾",j:"ğ’¿",k:"ğ“€",l:"ğ“",m:"ğ“‚",n:"ğ“ƒ",o:"ğ‘œ",p:"ğ“…",q:"ğ“†",r:"ğ“‡",s:"ğ“ˆ",t:"ğ“‰",u:"ğ“Š",v:"ğ“‹",w:"ğ“Œ",x:"ğ“",y:"ğ“",z:"ğ“",A:"ğ’œ",B:"ğµ",C:"ğ’",D:"ğ’Ÿ",E:"ğ¸",F:"ğ¹",G:"ğ’¢",H:"ğ»",I:"ğ¼",J:"ğ’¥",K:"ğ’¦",L:"ğ¿",M:"ğ‘€",N:"ğ’©",O:"ğ’ª",P:"ğ’«",Q:"ğ’¬",R:"ğ‘…",S:"ğ’®",T:"ğ’¯",U:"ğ’°",V:"ğ’±",W:"ğ’²",X:"ğ’³",Y:"ğ’´",Z:"ğ’µ"},o=e.split(""),n=0;n<o.length;n++)t[o[n].toLowerCase()]&&(o[n]=t[o[n]]);return e=o.join("")}function convertToBoldCursive(e){return e.replace(/[A-Za-z]/g,function(e){let t;return t=/[A-Z]/.test(e)?"ğ“".codePointAt(0)-"A".codePointAt(0):"ğ“ª".codePointAt(0)-"a".codePointAt(0),String.fromCodePoint(e.codePointAt(0)+t)})}function loadText(){var e=$("#file_upload").get(0).files[0],t=new FileReader;t.onload=function(e){e=e.target.result;area.val(e)},t.readAsText(e,"UTF-8")}function saveText(e,t){var o=navigator.userAgent.match(/MSIE\s([\d.]+)/),n=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),i=navigator.userAgent.match(/Edge/g),n=o?o[1]:n?11:i?12:-1;o&&n<10?console.log("No blobs on IE ver<10"):(t=(t=document.getElementById("input_output").value).replace(/\r?\n/g,"\r\n"),i=new Blob([t],{type:"text/plain"}),"null.txt"!=(e=prompt("File name:","New Document")+".txt")&&(-1<n?window.navigator.msSaveBlob(i,e):((o=document.createElement("a")).download=e,o.href=window.URL.createObjectURL(i),o.onclick=function(e){document.body.removeChild(e.target)},o.style.display="none",document.body.appendChild(o),o.click())))}function printTextArea(){(childWindow=window.open("","childWindow","location=yes, menubar=yes, toolbar=yes")).document.open(),childWindow.document.write('<html><head></head><body style="word-wrap:break-word;"><style>.ap_container,.google-auto-placed,.adsbygoogle{display:none}</style>'),childWindow.document.write(document.getElementById("input_output").value.replace(/\n/gi,"<br>")),childWindow.document.write("</body></html>"),childWindow.print(),childWindow.document.close(),childWindow.close()}1==examples&&area.val("The quick brown fox jumps over the lazy dog."),$("#convertText").click(function(){Remember();var e=(e=area.val()).normalize("NFKC");e=($("#isBold").prop("checked")?convertToBoldCursive:convertToCursive)(e),area.val(e),Remember()}),$(".clipboard").click(function(){Clipboard(area)}),$("#clearAll, #edit_delete, #file_new").click(function(){area.val(""),Remember()}),$("#file_upload").on("change",function(){loadText()}),$("#file_download").click(function(){saveText()}),$("#file_print").click(function(){printTextArea()}),$("#edit_undo").click(function(){var e=History.undo();void 0!==e&&area.val(e)}),$("#edit_redo").click(function(){var e=History.redo();void 0!==e&&area.val(e)}),$("#edit_copy").click(function(){Clipboard(area)}),$("#edit_select").click(function(){area.select().focus()});var History=function(){var t=[],o=0;return{remember:function(e){t[o-1]!==e&&(t.splice(o,10),t.push(e),t.splice(0,t.length-10),o=t.length)},undo:function(){if(1<o)return t[--o-1]},redo:function(){if(o<t.length)return t[o++]}}}();function Remember(){var e=area.val();History.remember(e)}Remember();