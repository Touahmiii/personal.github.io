var area=$("#input_output"),examples=JSON.parse(localStorage.getItem("ta_examples"));function generatePassword(e){var t="0123456789",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="abcdefghijklmnopqrstuvwxyz",r="#?!@$%^&*-",e=Array(e);return e[0]=t,e[1]=n,e[2]=a,e[3]=r,shuffleArray((e=e.fill("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#?!@$%^&*-",4)).map(function(e){return e[Math.floor(Math.random()*e.length)]})).join("")}function shuffleArray(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function saveText(e,t){var n=navigator.userAgent.match(/MSIE\s([\d.]+)/),a=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),r=navigator.userAgent.match(/Edge/g),a=n?n[1]:a?11:r?12:-1;n&&a<10?console.log("No blobs on IE ver<10"):(t=(t=document.getElementById("input_output").value).replace(/\r?\n/g,"\r\n"),r=new Blob([t],{type:"text/plain"}),"null.txt"!=(e=prompt("File name:","New Document")+".txt")&&(-1<a?window.navigator.msSaveBlob(r,e):((n=document.createElement("a")).download=e,n.href=window.URL.createObjectURL(r),n.onclick=function(e){document.body.removeChild(e.target)},n.style.display="none",document.body.appendChild(n),n.click())))}function printTextArea(){(childWindow=window.open("","childWindow","location=yes, menubar=yes, toolbar=yes")).document.open(),childWindow.document.write('<html><head></head><body style="word-wrap:break-word;"><style>.ap_container,.google-auto-placed,.adsbygoogle{display:none}</style>'),childWindow.document.write(document.getElementById("input_output").value.replace(/\n/gi,"<br>")),childWindow.document.write("</body></html>"),childWindow.print(),childWindow.document.close(),childWindow.close()}1==examples&&area.val(generatePassword(12)),$("#generateStr").click(function(){Remember();var t=parseInt($("#passAmount").val(),10),n=parseInt($("#passLength").val(),10),e=$("#passSeparator").val(),a=[];if(n<6)Alert("Error: Minimum password length is 6");else if(40<n)Alert("Error: Maximum password length is 40");else{for(let e=0;e<t;e++)a.push(generatePassword(n));a="comma"==e?a.join(","):"space"==e?a.join(" "):"comma+space"==e?a.join(", "):a.join("\n"),$(".alert").hide(),escapeHtml(a),area.val(a),Remember()}}),$(".clipboard").click(function(){Clipboard(area)}),$("#clearAll, #edit_delete, #file_new").click(function(){$(".alert").hide(),area.val(""),Remember()}),$("#file_download").click(function(){saveText()}),$("#file_print").click(function(){printTextArea()}),$("#edit_undo").click(function(){var e=History.undo();void 0!==e&&area.val(e)}),$("#edit_redo").click(function(){var e=History.redo();void 0!==e&&area.val(e)}),$("#edit_copy").click(function(){Clipboard(area)}),$("#edit_select").click(function(){area.select().focus()});var History=function(){var t=[],n=0;return{remember:function(e){t[n-1]!==e&&(t.splice(n,10),t.push(e),t.splice(0,t.length-10),n=t.length)},undo:function(){if(1<n)return t[--n-1]},redo:function(){if(n<t.length)return t[n++]}}}();function Remember(){var e=area.val();History.remember(e)}Remember();